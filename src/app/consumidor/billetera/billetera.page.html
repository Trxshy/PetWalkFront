<ion-header>
  <ion-toolbar>
    <ion-title>Billetera</ion-title>
    <ion-title slot="end">Tienes {{billetera?.monto}} coins</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content scroll-y="true">
  <app-tabs></app-tabs>
  <div *ngFor=" let plan of planes ">
    <ion-card>
        <ion-card-header>
          <div *ngIf="plan.descuentoActivo">
            <ion-card-title class="tachado">${{plan.costo}}</ion-card-title>
            <ion-card-title>${{plan.costoNuevo}}</ion-card-title>
            <ion-card-subtitle>{{plan.cantidadCoins}} PetCoins</ion-card-subtitle>
            <ion-card-subtitle>{{plan.porcentajeDescuento}} Off</ion-card-subtitle>
            <ion-card-subtitle>Oferta vigente hasta: {{plan.fechaTermino}}</ion-card-subtitle>
         </div>
          <div *ngIf="!plan.descuentoActivo">
            <ion-card-title>${{plan.costo}}</ion-card-title>
            <ion-card-subtitle>{{plan.cantidadCoins}} PetCoins</ion-card-subtitle>
         </div>
        </ion-card-header>
        <ion-card-content>{{plan.descripcion}}</ion-card-content>
        <ion-button fill="clear" (click)="comprarCoins(plan.costo)" id="open-modal">Lo quiero</ion-button>
    </ion-card>
</div>
<ion-modal trigger="open-modal">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="cancel()">Cancel</ion-button>
        </ion-buttons>
        <ion-title>Pagar</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <form action="{{respuesta?.url}}" method="POST">
        <input type="hidden" name="token_ws" value="{{respuesta?.token}}"/>
        <button type="submit"> Pagar</button>
     </form>
    </ion-content>
  </ng-template>
</ion-modal>
</ion-content>

